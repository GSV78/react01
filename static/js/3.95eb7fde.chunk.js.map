{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/MyPosts/InputPost/InputPost.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/Profile.module.css","components/Profile/UserInfo/UserInfo.module.css","components/Profile/UserInfo/ProfileStatus/ProfileStatus.module.css","components/Profile/MyPosts/InputPost/InputPost.jsx","assets/images/avatar1.jpg","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/UserInfo/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/UserInfo/UserInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.js"],"names":["withAuthRedirect","Component","connect","state","isAuth","auth","props","to","module","exports","maxLength30","maxLengthCreator","InputPostReduxForm","reduxForm","form","className","css","inputPost","onSubmit","handleSubmit","Field","textarea","placeholder","name","component","Textarea","validate","button","InputPost","values","addPost","Post","post","postAvaAndText","alt","src","ava","message","likeAndDelete","likesCount","onClick","deletePost","id","MyPosts","posts","postsData","map","myPost","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","profileStatusInner","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","onDoubleClick","userId","currentUserId","UserInfo","userProfile","Preloader","userInfo","user","userAva","photos","small","nophoto","description","fullName","aboutMe","Profile","content","profilePage","ProfileAPIComponent","this","match","params","getProfile","getStatus","React","compose","getProfileThunkCreator","useMatch"],"mappings":"4KAgBaA,EAAmB,SAACC,GAe7B,OAAOC,aALe,SAACC,GACnB,MAAO,CACHC,OAAQD,EAAME,KAAKD,UAGpBF,EAdmB,SAACI,GACvB,OAAKA,EAAMF,OAIP,cAACH,EAAD,eAAeK,IAHR,cAAC,IAAD,CAAUC,GAAI,gB,oBClBjCC,EAAOC,QAAU,CAAC,UAAY,6BAA6B,SAAW,4BAA4B,OAAS,4B,oBCA3GD,EAAOC,QAAU,CAAC,OAAS,0B,oBCA3BD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,eAAiB,6BAA6B,cAAgB,8B,oBCA1GD,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,QAAU,0BAA0B,OAAS,yBAAyB,YAAc,8BAA8B,KAAO,uBAAuB,QAAU,4B,oBCA1MD,EAAOC,QAAU,CAAC,mBAAqB,4C,qLCIjCC,EAAcC,YAAiB,IAiB/BC,EAAqBC,YAAU,CACjCC,KAAM,aADiBD,EAfL,SAACP,GACnB,OACI,uBAAMS,UAAWC,IAAIC,UAAWC,SAAUZ,EAAMa,aAAhD,UACI,cAACC,EAAA,EAAD,CACIL,UAAWC,IAAIK,SACfC,YAAa,oGACbC,KAAM,YACNC,UAAWC,IACXC,SAAU,CAAChB,KAEf,wBAAQK,UAAWC,IAAIW,OAAvB,0EAmBGC,EAVG,SAACtB,GAKf,OACI,cAACM,EAAD,CAAoBM,SALP,SAACW,GACdvB,EAAMwB,QAAQD,EAAOZ,WACrBY,EAAOZ,UAAY,O,oCC7BZ,MAA0B,oCCqB1Bc,EAlBF,SAACzB,GAIV,OACI,sBAAKS,UAAWC,IAAIgB,KAApB,UACI,sBAAKjB,UAAWC,IAAIiB,eAApB,UACI,qBAAKC,IAAI,MAAMC,IAAKC,IACpB,kCAAK9B,EAAM+B,QAAX,UAEJ,sBAAKtB,UAAWC,IAAIsB,cAApB,UACI,0CAAahC,EAAMiC,WAAnB,OACA,wBAAQC,QAXL,WACXlC,EAAMmC,WAAWnC,EAAMoC,KAUf,+DCKDC,EAfC,SAACrC,GACb,IAAIsC,EAAQtC,EAAMuC,UAAUC,KAAI,SAAAd,GAAI,OAAI,cAAC,EAAD,CAAMK,QAASL,EAAKK,QAASE,WAAYP,EAAKO,WAAYG,GAAIV,EAAKU,GAAkBD,WAAYnC,EAAMmC,YAA3BT,EAAKU,OACzH,OACI,sBAAK3B,UAAWC,IAAI+B,OAApB,UACI,cAAC,EAAD,CACIjB,QAASxB,EAAMwB,UAEnB,gGAEIc,M,+ECkCDI,EA7CgB,SAAC1C,GAE5B,MAA8B2C,oBAAS,GAAvC,mBAAKC,EAAL,KAAeC,EAAf,KACA,EAA0BF,mBAAS3C,EAAM8C,QAAzC,mBAAKA,EAAL,KAAaC,EAAb,KAEAC,qBAAU,WACND,EAAU/C,EAAM8C,UACjB,CAAC9C,EAAM8C,SAiBV,OACI,qBAAKrC,UAAWC,IAAIuC,mBAApB,SACML,EAMK,8BACC,uBACIM,SAdG,SAACC,GACpBJ,EAAUI,EAAEC,cAAcC,QAcVA,MAAOP,EACPQ,WAAW,EACXC,OAtBO,WACvBV,GAAY,GACZ7C,EAAMwD,aAAaV,QAUR,8BACC,sBAAMW,cAnBG,WACjBzD,EAAM0D,SAAW1D,EAAM2D,eACvBd,GAAY,IAiBJ,SACK7C,EAAM8C,QAAU,yHCK1Bc,EA5BE,SAAC5D,GACd,OAAyB,MAArBA,EAAM6D,YAEF,cAACC,EAAA,EAAD,IAIJ,sBAAKrD,UAAWC,IAAIqD,SAApB,UAGI,sBAAKtD,UAAWC,IAAIsD,KAApB,UACI,qBAAKvD,UAAWC,IAAIuD,QAApB,SACI,qBAAKrC,IAAI,MAAMC,IAAuC,MAAlC7B,EAAM6D,YAAYK,OAAOC,MAAgBnE,EAAM6D,YAAYK,OAAOC,MAAQC,QAElG,sBAAK3D,UAAWC,IAAI2D,YAApB,UACI,sBAAK5D,UAAWC,IAAIO,KAApB,cAA4BjB,EAAM6D,YAAYS,SAA9C,OACA,cAAC,EAAD,CACIxB,OAAQ9C,EAAM8C,OACdU,aAAcxD,EAAMwD,aACpBE,OAAQ1D,EAAM6D,YAAYH,OAC1BC,cAAe3D,EAAM2D,sBAIjC,sBAAKlD,UAAWC,IAAI6D,QAApB,cAA4D,MAA7BvE,EAAM6D,YAAYU,QAAlB,4FAAwDvE,EAAM6D,YAAYU,SAAY,KAArH,WCZGC,EAjBC,SAACxE,GACb,OACI,sBAAKS,UAAWC,IAAI+D,QAApB,UACI,cAAC,EAAD,CACIZ,YAAa7D,EAAM0E,YAAYb,YAC/Bf,OAAQ9C,EAAM0E,YAAY5B,OAC1BU,aAAcxD,EAAMwD,aACpBG,cAAe3D,EAAM2D,gBAEzB,cAAC,EAAD,CACIpB,UAAWvC,EAAM0E,YAAYnC,UAC7Bf,QAASxB,EAAMwB,QACfW,WAAYnC,EAAMmC,iB,iBCN5BwC,E,uKACF,WACI,IAAIjB,EAASkB,KAAK5E,MAAM6E,MAAQD,KAAK5E,MAAM6E,MAAMC,OAAOpB,OAASkB,KAAK5E,MAAM2D,cAC5EiB,KAAK5E,MAAM+E,WAAWrB,GACtBkB,KAAK5E,MAAMgF,UAAUtB,K,oBAEzB,WACI,OACI,cAAC,EAAD,eAAakB,KAAK5E,Y,GARIiF,IAAMtF,WA4BzBuF,sBACXtF,aATkB,SAACC,GACnB,MAAO,CACH6E,YAAa7E,EAAM6E,YACnBf,cAAe9D,EAAME,KAAKqC,GAC1BU,OAAQjD,EAAM6E,YAAY5B,UAKL,CACrBtB,YAASW,eACT4C,WAAYI,IACZH,cAAWxB,mBAEf9D,IANWwF,EAfM,SAAClF,GAClB,IAAI6E,EAAQO,YAAS,oBACrB,OACI,cAAC,EAAD,2BAAyBpF,GAAzB,IAAgC6E,MAAOA","file":"static/js/3.95eb7fde.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\n// export const withAuthRedirect = (Component) => {\r\n//     class RedirectComponent extends React.Component {\r\n//         render() {\r\n//             if (!this.props.isAuth) {\r\n//                 return <Navigate to={'/login'} />\r\n//             }\r\n//             return (\r\n//                 <Component {...this.props} />\r\n//             )\r\n//         }\r\n//     }\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    const RedirectComponent = (props) => {\r\n        if (!props.isAuth) {\r\n            return <Navigate to={'/login'} />\r\n        }\r\n        return (\r\n            <Component {...props} />\r\n        )\r\n    }\r\n\r\n    let mapStateToProps = (state) => {\r\n        return {\r\n            isAuth: state.auth.isAuth,\r\n        }\r\n    }\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputPost\":\"InputPost_inputPost__1TPgx\",\"textarea\":\"InputPost_textarea__bY3ll\",\"button\":\"InputPost_button__3a2u2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPost\":\"MyPosts_myPost__3Jojo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2fpzV\",\"postAvaAndText\":\"Post_postAvaAndText__2lQqt\",\"likeAndDelete\":\"Post_likeAndDelete__fTruE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__2njXX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"UserInfo_user__amASJ\",\"userAva\":\"UserInfo_userAva__3K8Hw\",\"banner\":\"UserInfo_banner__uVUgY\",\"description\":\"UserInfo_description__aCcK7\",\"name\":\"UserInfo_name__2NG0I\",\"aboutMe\":\"UserInfo_aboutMe__1e_G0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileStatusInner\":\"ProfileStatus_profileStatusInner__18sF8\"};","import { reduxForm, Field } from 'redux-form'\r\nimport { maxLengthCreator } from '../../../../utils/validators/validators'\r\nimport { Textarea } from '../../../common/FormsControls/FormsControls'\r\nimport css from './InputPost.module.css'\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\n\r\nconst InputPostForm = (props) => {\r\n    return (\r\n        <form className={css.inputPost} onSubmit={props.handleSubmit}>\r\n            <Field\r\n                className={css.textarea}\r\n                placeholder={'Введите сообщение'}\r\n                name={'inputPost'}\r\n                component={Textarea}\r\n                validate={[maxLength30]}\r\n            />\r\n            <button className={css.button}>Запостить</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst InputPostReduxForm = reduxForm({\r\n    form: 'inputPost',\r\n})(InputPostForm)\r\n\r\nconst InputPost = (props) => {\r\n    const onSubmit = (values) => {\r\n        props.addPost(values.inputPost)\r\n        values.inputPost = ''\r\n    }\r\n    return (\r\n        <InputPostReduxForm onSubmit={onSubmit} />\r\n    )\r\n}\r\n\r\nexport default InputPost","export default __webpack_public_path__ + \"static/media/avatar1.3e520c6b.jpg\";","import css from './Post.module.css'\r\nimport ava from './../../../../assets/images/avatar1.jpg'\r\n\r\nconst Post = (props) => {\r\n    let onDelete = () => {\r\n        props.deletePost(props.id)\r\n    }\r\n    return (\r\n        <div className={css.post}>\r\n            <div className={css.postAvaAndText}>\r\n                <img alt='ava' src={ava} />\r\n                <p> {props.message} </p>\r\n            </div>\r\n            <div className={css.likeAndDelete}>\r\n                <span>like: {props.likesCount} </span>\r\n                <button onClick={onDelete}>Удалить</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post","import React from 'react';\r\nimport InputPost from './InputPost/InputPost.jsx';\r\nimport css from './MyPosts.module.css'\r\nimport Post from './Post/Post';\r\n\r\nconst MyPosts = (props) => {\r\n    let posts = props.postsData.map(post => <Post message={post.message} likesCount={post.likesCount} id={post.id} key={post.id} deletePost={props.deletePost} />)\r\n    return (\r\n        <div className={css.myPost}>\r\n            <InputPost\r\n                addPost={props.addPost}\r\n            />\r\n            <h3> Мысли вслух</h3>\r\n            {\r\n                posts\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyPosts","import React, { useEffect, useState } from 'react'\r\nimport css from './ProfileStatus.module.css'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        if (props.userId === props.currentUserId) {\r\n            setEditMode(true)\r\n        }\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div className={css.profileStatusInner}>\r\n            {!editMode\r\n                ? (<div>\r\n                    <span onDoubleClick={activateEditMode}>\r\n                        {props.status || 'Статус не установлен.'}\r\n                    </span>\r\n                </div>)\r\n                : (<div>\r\n                    <input\r\n                        onChange={onStatusChange}\r\n                        value={status}\r\n                        autoFocus={true}\r\n                        onBlur={deactivateEditMode}\r\n                    />\r\n                </div>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks\r\n\r\n\r\n\r\n// state = {\r\n//     editMode: false,\r\n//     status: this.props.status\r\n// }\r\n\r\n// activateEditMode = () => {\r\n//     debugger\r\n//     if (this.props.userId === this.props.currentUserId) {\r\n//         this.setState({\r\n//             editMode: true\r\n//         })\r\n//     }\r\n// }\r\n\r\n// deactivateEditMode = () => {\r\n//     this.setState({\r\n//         editMode: false\r\n//     })\r\n//     this.props.updateStatus(this.state.status)\r\n// }\r\n\r\n// onStatusChange = (e) => {\r\n//     this.setState({\r\n//         status: e.currentTarget.value\r\n//     })\r\n// }\r\n\r\n// componentDidUpdate(prevProps, prevState) {\r\n//     if (prevProps.status !== this.props.status) {\r\n//         this.setState({\r\n//             status: this.props.status\r\n//         })\r\n//     }\r\n// }\r\n// render() {","import css from './UserInfo.module.css';\r\n// import ava from './../../../assets/images/avatar1.jpg'\r\n// import banner from './../../../assets/images/banner.jpg'\r\nimport nophoto from '../../../assets/images/nophoto.jpg'\r\nimport Preloader from '../../common/Preloader/Preloader';\r\n// import ProfileStatus from './ProfileStatus/ProfileStatus'\r\nimport ProfileStatusWithHooks from './ProfileStatus/ProfileStatusWithHooks';\r\n\r\n\r\nconst UserInfo = (props) => {\r\n    if (props.userProfile == null) {\r\n        return (\r\n            <Preloader />\r\n        )\r\n    }\r\n    return (\r\n        <div className={css.userInfo}>\r\n            {/* <img alt='banner' className={css.banner} src={props.userProfile.photos.large ?\r\n                props.userProfile.photos.large : banner} /> */}\r\n            <div className={css.user}>\r\n                <div className={css.userAva}>\r\n                    <img alt='ava' src={props.userProfile.photos.small != null ? props.userProfile.photos.small : nophoto} />\r\n                </div>\r\n                <div className={css.description}>\r\n                    <div className={css.name}> {props.userProfile.fullName} </div>\r\n                    <ProfileStatusWithHooks\r\n                        status={props.status}\r\n                        updateStatus={props.updateStatus}\r\n                        userId={props.userProfile.userId}\r\n                        currentUserId={props.currentUserId}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className={css.aboutMe}> {props.userProfile.aboutMe != null ? `Немного обо мне: ${props.userProfile.aboutMe}` : null} </div>\r\n        </div>\r\n    )\r\n}\r\nexport default UserInfo","import MyPosts from './MyPosts/MyPosts';\r\nimport css from './Profile.module.css';\r\nimport UserInfo from './UserInfo/UserInfo';\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={css.content}>\r\n            <UserInfo\r\n                userProfile={props.profilePage.userProfile}\r\n                status={props.profilePage.status}\r\n                updateStatus={props.updateStatus}\r\n                currentUserId={props.currentUserId}\r\n            />\r\n            <MyPosts\r\n                postsData={props.profilePage.postsData}\r\n                addPost={props.addPost}\r\n                deletePost={props.deletePost}\r\n            />\r\n        </div>\r\n    )\r\n}\r\nexport default Profile","import React from 'react';\r\nimport { addPost, deletePost, getProfileThunkCreator, getStatus, updateStatus } from './../../redux/profile-reducer'\r\nimport { connect } from 'react-redux';\r\nimport { useMatch } from 'react-router-dom';\r\nimport Profile from './Profile'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\nclass ProfileAPIComponent extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match ? this.props.match.params.userId : this.props.currentUserId;\r\n        this.props.getProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nconst ProfileMatch = (props) => {\r\n    let match = useMatch(\"/profile/:userId\");\r\n    return (\r\n        <ProfileAPIComponent {...props} match={match} />\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profilePage: state.profilePage,\r\n        currentUserId: state.auth.id,\r\n        status: state.profilePage.status,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        addPost, deletePost,\r\n        getProfile: getProfileThunkCreator,\r\n        getStatus, updateStatus,\r\n    }),\r\n    withAuthRedirect,\r\n)(ProfileMatch)"],"sourceRoot":""}