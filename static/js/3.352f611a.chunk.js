(this.webpackJsonpreact1=this.webpackJsonpreact1||[]).push([[3],{292:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s(3),r=(s(1),s(12)),o=s(7),a=s(0),c=function(e){return Object(r.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return t.isAuth?Object(a.jsx)(e,Object(n.a)({},t)):Object(a.jsx)(o.a,{to:"/login"})}))}},293:function(e,t,s){e.exports={user:"UserInfo_user__amASJ",inputAva:"UserInfo_inputAva__2U4o5",userAva:"UserInfo_userAva__3K8Hw",banner:"UserInfo_banner__uVUgY",description:"UserInfo_description__aCcK7",name:"UserInfo_name__2NG0I",aboutMe:"UserInfo_aboutMe__1e_G0",fullName:"UserInfo_fullName__2ZSo0",contactsTitle:"UserInfo_contactsTitle__3oPjD",contactTitle:"UserInfo_contactTitle__34izm",contactValue:"UserInfo_contactValue__xFHHN",lookingForAJob:"UserInfo_lookingForAJob__2v-E8",lookingForAJobDescription:"UserInfo_lookingForAJobDescription__1T8Gz",buttonSetProfileEditMode:"UserInfo_buttonSetProfileEditMode__1J0I8",formSummaryError:"UserInfo_formSummaryError__2YmFT"}},295:function(e,t,s){e.exports={inputPost:"InputPost_inputPost__1TPgx",textarea:"InputPost_textarea__bY3ll",button:"InputPost_button__3a2u2"}},296:function(e,t,s){e.exports={myPost:"MyPosts_myPost__3Jojo"}},297:function(e,t,s){e.exports={post:"Post_post__2fpzV",postAvaAndText:"Post_postAvaAndText__2lQqt",likeAndDelete:"Post_likeAndDelete__fTruE"}},298:function(e,t,s){e.exports={content:"Profile_content__2njXX"}},299:function(e,t,s){e.exports={profileStatusInner:"ProfileStatus_profileStatusInner__18sF8"}},301:function(e,t,s){"use strict";s.r(t);var n=s(3),r=s(32),o=s(33),a=s(35),c=s(34),i=s(1),l=s.n(i),u=s(121),j=s(12),d=s(7),b=s(87),f=s(123),p=s(67),O=s(23),h=s(295),m=s.n(h),x=s(0),P=Object(p.a)(30),v=Object(f.a)({form:"inputPost"})((function(e){return Object(x.jsxs)("form",{className:m.a.inputPost,onSubmit:e.handleSubmit,children:[Object(x.jsx)(b.a,{className:m.a.textarea,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",name:"inputPost",component:O.b,validate:[P]}),Object(x.jsx)("button",{className:m.a.button,children:"\u0417\u0430\u043f\u043e\u0441\u0442\u0438\u0442\u044c"})]})})),_=function(e){return Object(x.jsx)(v,{onSubmit:function(t){e.addPost(t.inputPost),t.inputPost=""}})},g=s(296),I=s.n(g),N=s(297),k=s.n(N),A=function(e){return Object(x.jsxs)("div",{className:k.a.post,children:[Object(x.jsxs)("div",{className:k.a.postAvaAndText,children:[Object(x.jsx)("img",{alt:"ava",src:e.ava}),Object(x.jsxs)("p",{children:[" ",e.message," "]})]}),Object(x.jsxs)("div",{className:k.a.likeAndDelete,children:[Object(x.jsxs)("span",{children:["like: ",e.likesCount," "]}),Object(x.jsx)("button",{onClick:function(){e.deletePost(e.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},S=function(e){var t=e.postsData.map((function(t){return Object(x.jsx)(A,{ava:e.ava,message:t.message,likesCount:t.likesCount,id:t.id,deletePost:e.deletePost},t.id)}));return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:I.a.myPost,children:[Object(x.jsx)("h3",{children:" \u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b."}),Object(x.jsx)(_,{addPost:e.addPost}),t]})]})},U=s(298),F=s.n(U),J=s(22),D=s(293),T=s.n(D),y=s(100),M=s(36),E=s(299),C=s.n(E),w=function(e){var t=Object(i.useState)(!1),s=Object(J.a)(t,2),n=s[0],r=s[1],o=Object(i.useState)(e.status),a=Object(J.a)(o,2),c=a[0],l=a[1];Object(i.useEffect)((function(){l(e.status)}),[e.status]);return Object(x.jsx)("div",{className:C.a.profileStatusInner,children:n?Object(x.jsx)("div",{children:Object(x.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},value:c,autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(c)}})}):Object(x.jsx)("div",{children:Object(x.jsx)("span",{onDoubleClick:function(){e.userId===e.currentUserId&&r(!0)},children:e.status||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d."})})})},V=function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("span",{className:T.a.contactTitle,children:[" ",e.title,":"]}),Object(x.jsx)("span",{className:T.a.contactValue,children:e.value})]})},z=Object(f.a)({form:"profile"})((function(e){var t=e.handleSubmit,s=e.userProfile,n=e.error,r=Object.keys(s.contacts).map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("span",{className:T.a.contactTitle,children:[" ",e," "]}),Object(O.c)(e,"contacts."+e,"text",O.a,[])]},e)}));return Object(x.jsxs)("form",{className:T.a.profileFormInner,onSubmit:t,children:[Object(x.jsxs)("div",{className:T.a.fullName,children:[Object(x.jsx)("b",{children:"\u0422\u0432\u043e\u0451 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: "}),Object(O.c)("\u0418\u043c\u044f","fullName","text",O.a,[])]}),Object(x.jsxs)("div",{className:T.a.aboutMe,children:[Object(x.jsx)("b",{children:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438 \u043e c\u0435\u0431\u0435: "}),Object(O.c)("\u041e \u0441\u0435\u0431\u0435","aboutMe","text",O.b,[])]}),Object(x.jsxs)("div",{className:T.a.lookingForAJob,children:[Object(x.jsx)("b",{children:"\u0418\u0449\u0435\u0448\u044c \u0440\u0430\u0431\u043e\u0442\u0443? "}),Object(O.c)(null,"lookingForAJob","checkbox",O.a,[],"\u0434\u0430, \u0438\u0449\u0443")]}),Object(x.jsxs)("div",{className:T.a.lookingForAJobDescription,children:[Object(x.jsx)("b",{children:"\u041a\u0430\u043a\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u0442\u044b \u0438\u0449\u0435\u0448\u044c? "}),Object(O.c)("\u0422\u0432\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438","lookingForAJobDescription","text",O.b,[])," ",s.lookingForAJobDescription]}),Object(x.jsx)("div",{className:T.a.contactsTitle,children:"\u0422\u0432\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(x.jsxs)("div",{className:T.a.contacts,children:[" ",r," "]}),Object(x.jsx)("div",{className:T.a.buttonSetProfileEditMode,children:Object(x.jsx)("button",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),n?Object(x.jsx)("div",{className:T.a.formSummaryError,children:n}):null]})})),G=function(e){var t=e.userProfile,s=e.setEditMode,n=e.isOwner,r=Object.keys(t.contacts).map((function(e){return t.contacts[e]?Object(x.jsx)(V,{title:e,value:t.contacts[e]},e):null})),o=r.reduce((function(e,t){return e||!!t}),!1);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:T.a.aboutMe,children:[" ",null!=t.aboutMe?"\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u043e \u043c\u043d\u0435: ".concat(t.aboutMe):null," "]}),Object(x.jsxs)("div",{className:T.a.lookingForAJob,children:[" ",t.lookingForAJob?"\u041d\u0430\u0445\u043e\u0436\u0443\u0441\u044c \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b.":"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435 \u043d\u0435 \u043d\u0443\u0436\u0434\u0430\u044e\u0441\u044c."," "]}),Object(x.jsxs)("div",{className:T.a.lookingForAJobDescription,children:[" ",t.lookingForAJob?t.lookingForAJobDescription:null," "]}),Object(x.jsxs)("div",{className:T.a.contactsTitle,children:[" ",o?"\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:":null," "]}),Object(x.jsxs)("div",{className:T.a.contacts,children:[" ",o?r:null," "]}),Object(x.jsx)("div",{className:T.a.buttonSetProfileEditMode,children:n?Object(x.jsx)("button",{onClick:function(){return s(!0)},children:"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}):null})]})},H=function(e){var t=Object(i.useState)(!1),s=Object(J.a)(t,2),n=s[0],r=s[1],o=Object(i.useState)(!1),a=Object(J.a)(o,2),c=a[0],l=a[1];if(null==e.userProfile)return Object(x.jsx)(M.a,{});return Object(x.jsxs)("div",{className:T.a.userInfo,children:[Object(x.jsxs)("div",{className:T.a.user,children:[Object(x.jsx)("div",{className:T.a.userAva,children:Object(x.jsx)("img",{onDoubleClick:function(){e.userProfile.userId===e.currentUserId&&r(!n)},alt:"ava",src:null!=e.userProfile.photos.small?e.userProfile.photos.small:y.a})}),Object(x.jsxs)("div",{className:T.a.description,children:[Object(x.jsxs)("div",{className:T.a.name,children:[" ",e.userProfile.fullName," "]}),Object(x.jsx)(w,{status:e.status,updateStatus:e.updateStatus,userId:e.userProfile.userId,currentUserId:e.currentUserId})]})]}),Object(x.jsx)("div",{className:T.a.inputAva,children:e.isOwner&&n?Object(x.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&(e.savePhoto(t.target.files[0]),r(!1))}}):null}),c?Object(x.jsx)(z,{initialValues:e.userProfile,userProfile:e.userProfile,onSubmit:function(t){e.saveProfile(t).then((function(){l(!1)}))}}):Object(x.jsx)(G,{userProfile:e.userProfile,setEditMode:l,isOwner:e.isOwner})]})},Y=function(e){return Object(x.jsxs)("div",{className:F.a.content,children:[Object(x.jsx)(H,{userProfile:e.profilePage.userProfile,status:e.profilePage.status,updateStatus:e.updateStatus,currentUserId:e.currentUserId,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),e.profilePage.userProfile&&e.profilePage.userProfile.userId===e.currentUserId?Object(x.jsx)(S,{postsData:e.profilePage.postsData,ava:e.profilePage.userProfile.photos.small,addPost:e.addPost,deletePost:e.deletePost}):null]})},K=s(292),X=s(10),q=function(e){Object(a.a)(s,e);var t=Object(c.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match?this.props.match.params.userId:this.props.currentUserId;this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match&&e.match&&this.props.match.pathname!==e.match.pathname&&this.refreshProfile()}},{key:"render",value:function(){return Object(x.jsx)(Y,Object(n.a)({},this.props))}}]),s}(l.a.Component);t.default=Object(X.d)(Object(j.b)((function(e){return{profilePage:e.profilePage,currentUserId:e.auth.id,status:e.profilePage.status}}),{addPost:u.a,deletePost:u.c,getProfile:u.d,getStatus:u.e,updateStatus:u.h,savePhoto:u.f,saveProfile:u.g}),K.a)((function(e){var t=e.currentUserId===e.profilePage.userProfile.userId,s=Object(d.g)("/profile/:userId");return Object(x.jsx)(q,Object(n.a)(Object(n.a)({},e),{},{match:s,isOwner:t}))}))}}]);
//# sourceMappingURL=3.352f611a.chunk.js.map